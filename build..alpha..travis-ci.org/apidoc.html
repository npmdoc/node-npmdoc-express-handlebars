<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/ericf/express-handlebars"

    >express-handlebars (v3.0.0)</a>
</h1>
<h4>A Handlebars view engine for Express which doesn't suck.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-handlebars">module express-handlebars</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.express-handlebars">
            function <span class="apidocSignatureSpan"></span>express-handlebars
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars">
            function <span class="apidocSignatureSpan">express-handlebars.</span>ExpressHandlebars
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.create">
            function <span class="apidocSignatureSpan">express-handlebars.</span>create
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">express-handlebars.</span>ExpressHandlebars.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">express-handlebars.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-handlebars.ExpressHandlebars">module express-handlebars.ExpressHandlebars</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.ExpressHandlebars">
            function <span class="apidocSignatureSpan">express-handlebars.</span>ExpressHandlebars
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-handlebars.ExpressHandlebars.prototype">module express-handlebars.ExpressHandlebars.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._compileTemplate">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_compileTemplate
            <span class="apidocSignatureSpan">(template, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getDir">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getDir
            <span class="apidocSignatureSpan">(dirPath, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getFile">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getFile
            <span class="apidocSignatureSpan">(filePath, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getTemplateName">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getTemplateName
            <span class="apidocSignatureSpan">(filePath, namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._precompileTemplate">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_precompileTemplate
            <span class="apidocSignatureSpan">(template, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._renderTemplate">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_renderTemplate
            <span class="apidocSignatureSpan">(template, context, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._resolveLayoutPath">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_resolveLayoutPath
            <span class="apidocSignatureSpan">(layoutPath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getPartials">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getPartials
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplate">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getTemplate
            <span class="apidocSignatureSpan">(filePath, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplates">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getTemplates
            <span class="apidocSignatureSpan">(dirPath, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.render">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>render
            <span class="apidocSignatureSpan">(filePath, context, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.renderView">
            function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>renderView
            <span class="apidocSignatureSpan">(viewPath, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-handlebars.utils">module express-handlebars.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.utils.assign">
            function <span class="apidocSignatureSpan">express-handlebars.utils.</span>assign
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.utils.passError">
            function <span class="apidocSignatureSpan">express-handlebars.utils.</span>passError
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-handlebars.utils.passValue">
            function <span class="apidocSignatureSpan">express-handlebars.utils.</span>passValue
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-handlebars" id="apidoc.module.express-handlebars">module express-handlebars</a></h1>


    <h2>
        <a href="#apidoc.element.express-handlebars.express-handlebars" id="apidoc.element.express-handlebars.express-handlebars">
        function <span class="apidocSignatureSpan"></span>express-handlebars
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function exphbs(config) {
    return create(config).engine;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars" id="apidoc.element.express-handlebars.ExpressHandlebars">
        function <span class="apidocSignatureSpan">express-handlebars.</span>ExpressHandlebars
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExpressHandlebars(config) {
    // Config properties with defaults.
    utils.assign(this, {
        handlebars     : Handlebars,
        extname        : &#x27;.handlebars&#x27;,
        layoutsDir     : &#x27;views/layouts/&#x27;,
        partialsDir    : &#x27;views/partials/&#x27;,
        defaultLayout  : undefined,
        helpers        : undefined,
        compilerOptions: undefined,
    }, config);

    // Express view engine integration point.
    this.engine = this.renderView.bind(this);

    // Normalize `extname`.
    if (this.extname.charAt(0) !== &#x27;.&#x27;) {
        this.extname = &#x27;.&#x27; + this.extname;
    }

    // Internal caches of compiled and precompiled templates.
    this.compiled    = Object.create(null);
    this.precompiled = Object.create(null);

    // Private internal file system cache.
    this._fsCache = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.create" id="apidoc.element.express-handlebars.create">
        function <span class="apidocSignatureSpan">express-handlebars.</span>create
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create(config) {
    return new ExpressHandlebars(config);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Another way to use this view engine is to create an instance(s) of `ExpressHandlebars`, allowing access to the full API:

```javascript
var express = require(&#x27;express&#x27;);
var exphbs  = require(&#x27;express-handlebars&#x27;);

var app = express();
var hbs = exphbs.<span class="apidocCodeKeywordSpan">create</span>({ /* config */ });

// Register `hbs.engine` with the Express app.
app.engine(&#x27;handlebars&#x27;, hbs.engine);
app.set(&#x27;view engine&#x27;, &#x27;handlebars&#x27;);

// ...still have a reference to `hbs`, on which methods like `loadPartials()`
// can be called.
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-handlebars.ExpressHandlebars" id="apidoc.module.express-handlebars.ExpressHandlebars">module express-handlebars.ExpressHandlebars</a></h1>


    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.ExpressHandlebars" id="apidoc.element.express-handlebars.ExpressHandlebars.ExpressHandlebars">
        function <span class="apidocSignatureSpan">express-handlebars.</span>ExpressHandlebars
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExpressHandlebars(config) {
    // Config properties with defaults.
    utils.assign(this, {
        handlebars     : Handlebars,
        extname        : &#x27;.handlebars&#x27;,
        layoutsDir     : &#x27;views/layouts/&#x27;,
        partialsDir    : &#x27;views/partials/&#x27;,
        defaultLayout  : undefined,
        helpers        : undefined,
        compilerOptions: undefined,
    }, config);

    // Express view engine integration point.
    this.engine = this.renderView.bind(this);

    // Normalize `extname`.
    if (this.extname.charAt(0) !== &#x27;.&#x27;) {
        this.extname = &#x27;.&#x27; + this.extname;
    }

    // Internal caches of compiled and precompiled templates.
    this.compiled    = Object.create(null);
    this.precompiled = Object.create(null);

    // Private internal file system cache.
    this._fsCache = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-handlebars.ExpressHandlebars.prototype" id="apidoc.module.express-handlebars.ExpressHandlebars.prototype">module express-handlebars.ExpressHandlebars.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._compileTemplate" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._compileTemplate">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_compileTemplate
        <span class="apidocSignatureSpan">(template, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_compileTemplate = function (template, options) {
    return this.handlebars.compile(template, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getDir" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._getDir">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getDir
        <span class="apidocSignatureSpan">(dirPath, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getDir = function (dirPath, options) {
    dirPath = path.resolve(dirPath);
    options || (options = {});

    var cache = this._fsCache;
    var dir   = options.cache &#x26;&#x26; cache[dirPath];

    if (dir) {
        return dir.then(function (dir) {
            return dir.concat();
        });
    }

    var pattern = &#x27;**/*&#x27; + this.extname;

    // Optimistically cache dir promise to reduce file system I/O, but remove
    // from cache if there was a problem.
    dir = cache[dirPath] = new Promise(function (resolve, reject) {
        glob(pattern, {
            cwd   : dirPath,
            follow: true
        }, function (err, dir) {
            if (err) {
                reject(err);
            } else {
                resolve(dir);
            }
        });
    });

    return dir.then(function (dir) {
        return dir.concat();
    }).catch(function (err) {
        delete cache[dirPath];
        throw err;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getFile" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._getFile">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getFile
        <span class="apidocSignatureSpan">(filePath, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getFile = function (filePath, options) {
    filePath = path.resolve(filePath);
    options || (options = {});

    var cache = this._fsCache;
    var file  = options.cache &#x26;&#x26; cache[filePath];

    if (file) {
        return file;
    }

    // Optimistically cache file promise to reduce file system I/O, but remove
    // from cache if there was a problem.
    file = cache[filePath] = new Promise(function (resolve, reject) {
        fs.readFile(filePath, &#x27;utf8&#x27;, function (err, file) {
            if (err) {
                reject(err);
            } else {
                resolve(file);
            }
        });
    });

    return file.catch(function (err) {
        delete cache[filePath];
        throw err;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._getTemplateName" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._getTemplateName">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_getTemplateName
        <span class="apidocSignatureSpan">(filePath, namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getTemplateName = function (filePath, namespace) {
    var extRegex = new RegExp(this.extname + &#x27;$&#x27;);
    var name     = filePath.replace(extRegex, &#x27;&#x27;);

    if (namespace) {
        name = namespace + &#x27;/&#x27; + name;
    }

    return name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._precompileTemplate" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._precompileTemplate">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_precompileTemplate
        <span class="apidocSignatureSpan">(template, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_precompileTemplate = function (template, options) {
    return this.handlebars.precompile(template, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._renderTemplate" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._renderTemplate">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_renderTemplate
        <span class="apidocSignatureSpan">(template, context, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_renderTemplate = function (template, context, options) {
    return template(context, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype._resolveLayoutPath" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype._resolveLayoutPath">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>_resolveLayoutPath
        <span class="apidocSignatureSpan">(layoutPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveLayoutPath = function (layoutPath) {
    if (!layoutPath) {
        return null;
    }

    if (!path.extname(layoutPath)) {
        layoutPath += this.extname;
    }

    return path.resolve(this.layoutsDir, layoutPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getPartials" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype.getPartials">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getPartials
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPartials = function (options) {
    var partialsDirs = Array.isArray(this.partialsDir) ?
            this.partialsDir : [this.partialsDir];

    partialsDirs = partialsDirs.map(function (dir) {
        var dirPath;
        var dirTemplates;
        var dirNamespace;

        // Support `partialsDir` collection with object entries that contain a
        // templates promise and a namespace.
        if (typeof dir === &#x27;string&#x27;) {
            dirPath = dir;
        } else if (typeof dir === &#x27;object&#x27;) {
            dirTemplates = dir.templates;
            dirNamespace = dir.namespace;
            dirPath      = dir.dir;
        }

        // We must have some path to templates, or templates themselves.
        if (!(dirPath || dirTemplates)) {
            throw new Error(&#x27;A partials dir must be a string or config object&#x27;);
        }

        // Make sure we&#x27;re have a promise for the templates.
        var templatesPromise = dirTemplates ? Promise.resolve(dirTemplates) :
                this.getTemplates(dirPath, options);

        return templatesPromise.then(function (templates) {
            return {
                templates: templates,
                namespace: dirNamespace,
            };
        });
    }, this);

    return Promise.all(partialsDirs).then(function (dirs) {
        var getTemplateName = this._getTemplateName.bind(this);

        return dirs.reduce(function (partials, dir) {
            var templates = dir.templates;
            var namespace = dir.namespace;
            var filePaths = Object.keys(templates);

            filePaths.forEach(function (filePath) {
                var partialName       = getTemplateName(filePath, namespace);
                partials[partialName] = templates[filePath];
            });

            return partials;
        }, {});
    }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

`getPartials()` would produce the following result:

```javascript
var hbs = require(&#x27;express-handlebars&#x27;).create();

hbs.<span class="apidocCodeKeywordSpan">getPartials</span>().then(function (partials) {
    console.log(partials);
    // =&#x3e; { &#x27;foo/bar&#x27;: [Function],
    // =&#x3e;    title: [Function] }
});
```

#### `getTemplate(filePath, [options])`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplate" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplate">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getTemplate
        <span class="apidocSignatureSpan">(filePath, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTemplate = function (filePath, options) {
    filePath = path.resolve(filePath);
    options || (options = {});

    var precompiled = options.precompiled;
    var cache       = precompiled ? this.precompiled : this.compiled;
    var template    = options.cache &#x26;&#x26; cache[filePath];

    if (template) {
        return template;
    }

    // Optimistically cache template promise to reduce file system I/O, but
    // remove from cache if there was a problem.
    template = cache[filePath] = this._getFile(filePath, {cache: options.cache})
        .then(function (file) {
            if (precompiled) {
                return this._precompileTemplate(file, this.compilerOptions);
            }

            return this._compileTemplate(file, this.compilerOptions);
        }.bind(this));

    return template.catch(function (err) {
        delete cache[filePath];
        throw err;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplates" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype.getTemplates">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>getTemplates
        <span class="apidocSignatureSpan">(dirPath, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTemplates = function (dirPath, options) {
    options || (options = {});
    var cache = options.cache;

    return this._getDir(dirPath, {cache: cache}).then(function (filePaths) {
        var templates = filePaths.map(function (filePath) {
            return this.getTemplate(path.join(dirPath, filePath), options);
        }, this);

        return Promise.all(templates).then(function (templates) {
            return filePaths.reduce(function (hash, filePath, i) {
                hash[filePath] = templates[i];
                return hash;
            }, {});
        });
    }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.render" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype.render">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>render
        <span class="apidocSignatureSpan">(filePath, context, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (filePath, context, options) {
    options || (options = {});

    return Promise.all([
        this.getTemplate(filePath, {cache: options.cache}),
        options.partials || this.getPartials({cache: options.cache}),
    ]).then(function (templates) {
        var template = templates[0];
        var partials = templates[1];
        var helpers  = options.helpers || this.helpers;

        // Add ExpressHandlebars metadata to the data channel so that it&#x27;s
        // accessible within the templates and helpers, namespaced under:
        // `@exphbs.*`
        var data = utils.assign({}, options.data, {
            exphbs: utils.assign({}, options, {
                filePath: filePath,
                helpers : helpers,
                partials: partials,
            }),
        });

        return this._renderTemplate(template, context, {
            data    : data,
            helpers : helpers,
            partials: partials,
        });
    }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var app = express();

app.engine(&#x27;handlebars&#x27;, exphbs({defaultLayout: &#x27;main&#x27;}));
app.set(&#x27;view engine&#x27;, &#x27;handlebars&#x27;);

app.get(&#x27;/&#x27;, function (req, res) {
    res.<span class="apidocCodeKeywordSpan">render</span>(&#x27;home&#x27;);
});

app.listen(3000);
```

**views/layouts/main.handlebars:**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.ExpressHandlebars.prototype.renderView" id="apidoc.element.express-handlebars.ExpressHandlebars.prototype.renderView">
        function <span class="apidocSignatureSpan">express-handlebars.ExpressHandlebars.prototype.</span>renderView
        <span class="apidocSignatureSpan">(viewPath, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderView = function (viewPath, options, callback) {
    options || (options = {});

    var context = options;

    // Express provides `settings.views` which is the path to the views dir that
    // the developer set on the Express app. When this value exists, it&#x27;s used
    // to compute the view&#x27;s name.
    var view;
    var viewsPath = options.settings &#x26;&#x26; options.settings.views;
    if (viewsPath) {
        view = this._getTemplateName(path.relative(viewsPath, viewPath));
    }

    // Merge render-level and instance-level helpers together.
    var helpers = utils.assign({}, this.helpers, options.helpers);

    // Merge render-level and instance-level partials together.
    var partials = Promise.all([
        this.getPartials({cache: options.cache}),
        Promise.resolve(options.partials),
    ]).then(function (partials) {
        return utils.assign.apply(null, [{}].concat(partials));
    });

    // Pluck-out ExpressHandlebars-specific options and Handlebars-specific
    // rendering options.
    options = {
        cache : options.cache,
        view  : view,
        layout: &#x27;layout&#x27; in options ? options.layout : this.defaultLayout,

        data    : options.data,
        helpers : helpers,
        partials: partials,
    };

    this.render(viewPath, context, options)
        .then(function (body) {
            var layoutPath = this._resolveLayoutPath(options.layout);

            if (layoutPath) {
                return this.render(
                    layoutPath,
                    utils.assign({}, context, {body: body}),
                    utils.assign({}, options, {layout: undefined})
                );
            }

            return body;
        }.bind(this))
        .then(utils.passValue(callback))
        .catch(utils.passError(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-handlebars.utils" id="apidoc.module.express-handlebars.utils">module express-handlebars.utils</a></h1>


    <h2>
        <a href="#apidoc.element.express-handlebars.utils.assign" id="apidoc.element.express-handlebars.utils.assign">
        function <span class="apidocSignatureSpan">express-handlebars.utils.</span>assign
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assign() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.utils.passError" id="apidoc.element.express-handlebars.utils.passError">
        function <span class="apidocSignatureSpan">express-handlebars.utils.</span>passError
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function passError(callback) {
    return function (reason) {
        setImmediate(function () {
            callback(reason);
        });
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-handlebars.utils.passValue" id="apidoc.element.express-handlebars.utils.passValue">
        function <span class="apidocSignatureSpan">express-handlebars.utils.</span>passValue
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function passValue(callback) {
    return function (value) {
        setImmediate(function () {
            callback(null, value);
        });
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
